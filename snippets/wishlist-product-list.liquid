{% comment %} <div class="product-tile-container wishlist-tile-container grid__4col" data-product-id="{{ product.id }}" data-product-handle="{{ product.handle }}">
  <div>
    <div>
      <a href="{{ product.url }}">
        <div class="wishlist__product-img">
          <img src="{{ product.featured_image | product_img_url: 'grande' }}" alt="{{ product.title }}" width="" height="" loading="lazy">
        </div>
      </a>
    </div>
    <div>
      <div>
        <p class="wishlist__product-name">{{ product.title | truncate: 18 }}</p>
        {% if product.compare_at_price > product.price %}
          <p class="wishlist__product-price">
            <span><s>{{ product.compare_at_price | money }}</s></span> <span>{{ product.price | money }}</span>
          </p>
        {% else %}  
          <p class="wishlist__product-price">{{ product.price | money }}</p>
        {% endif %}
      </div>
      <div>
 
        <a href="/cart/add?id={{ product.selected_or_first_available_variant.id }}&quantity=1" class="button ">Add To Cart</a>
     
      </div>
    </div>
  </div>  
</div> {% endcomment %}

<div class="collection collection__listWrap">
  <ul class="collection__list" id="product-grid" data-id="{{ section.id }}">
    {%- for product in collection.products -%}
    <li class="collection__item --all js-rank-grid">
      {% render 'card-product',
        card_product: product,
        media_aspect_ratio: section.settings.image_ratio,
        show_secondary_image: section.settings.show_secondary_image,
        show_vendor: section.settings.show_vendor,
        show_rating: section.settings.show_rating,
        lazy_load: true,
        show_quick_add: section.settings.enable_quick_add,
        section_id: section.id,
        product_handle: product.handle
      %}
      <div class="collection__option">
        <div class="collection__quantityWrap"><input class="collection__quantity" id="{{ product.selected_or_first_available_variant.id }}_quantity" type="number" name="quantity" min="1" max="10" value="1" {% if product.selected_or_first_available_variant.available == false %} disabled {% endif %}></div>
        <div class="collection__buttonWrap"><button class="collection__button js-reload" type="button" onclick="buttonClick({{ product.selected_or_first_available_variant.id }},$('#{{ product.selected_or_first_available_variant.id }}_quantity').val())" {% if product.selected_or_first_available_variant.available == false %} disabled {% endif %}>{% if product.selected_or_first_available_variant.available == false %} 売り切れ {% else %} カートに追加 {% endif %}</button></div>
        <style>
          .icon__heart {
            position: absolute;
            top: 5px;
            right: 5px;
            z-index: 3;
          }
          
          a.action--wishlist.tile-actions--btn.flex.wishlist-btn {
            height: 38px;
            width: 38px;
            background: #f1f1f1;
            padding: 1rem;
            border-radius: 50px;
            display:inline-block;
            transition-duration: 0.5s;
          }
          
          a.action--wishlist.tile-actions--btn.flex.wishlist-btn.is-active {
            background: transparent;
            border: 1px solid #f1f1f1;
          }
          
          a.action--wishlist.tile-actions--btn.flex.wishlist-btn.is-active > .heart:before,
          a.action--wishlist.tile-actions--btn.flex.wishlist-btn.is-active > .heart:after {
            background: #e63c3c ;
          }
          
          .heart {
            position: absolute;
            width: 25px;
            height: 25px;
            top: 10px;
            left: 6px;
            display: block !important;
          }
          .heart:before,
          .heart:after {
            position: absolute;
            content: "";
            left: 13px;
            top: 0;
            width: 13px;
            height: 20px;
            background: #fff;
            border-radius: 50px 50px 0 0;
            transform: rotate(-45deg);
            transform-origin: 0 100%;
          }
          .heart:after {
            left: 0;
            transform: rotate(45deg);
            transform-origin :100% 100%;
          }
        </style>
        <div class="icon__heart">
          <a class="action--wishlist tile-actions--btn flex wishlist-btn" href="#" data-product-handle="{{ product.handle }}">
            <div class="heart"></div>
          </a>
        </div>
      </div>
    </li>
    {%- endfor -%}
  </ul>
  {%- if paginate.pages > 1 -%}{% render 'pagination', paginate: paginate, anchor: '' %}{%- endif -%}
</div>